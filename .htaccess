RewriteEngine On

# ==============================
# 1. Redirect index & index.php ke root
# ==============================
RewriteCond %{THE_REQUEST} \s/index(\.php)?[\s?] [NC]
RewriteRule ^index(\.php)?$ / [R=301,L]

# ==============================
# 2. Redirect *.php ke tanpa .php (canonical)
# ==============================
RewriteCond %{THE_REQUEST} \s/([^.]+)\.php[\s?] [NC]
RewriteRule ^ /%1 [R=301,L]

# ==============================
# 3. Rewrite tanpa .php ke file .php
# ==============================
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.+)$ $1.php [L]
